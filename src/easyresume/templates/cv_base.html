<!DOCTYPE html>

<html>
  <head>
    <!-- Avenir fonts (https://www.onlinewebfonts.com/package/Avenir_LT_Std) -->
    <style>
      @font-face {
        font-family: "Avenir 35";
        src: url("{{ url_for('static', filename='fonts/AvenirLTStd-Light.otf') }}");
      }
      @font-face {
        font-family: "Avenir 45";
        src: url("{{ url_for('static', filename='fonts/AvenirLTStd-Book.otf') }}");
      }
      @font-face {
        font-family: "Avenir 55";
        src: url("{{ url_for('static', filename='fonts/AvenirLTStd-Roman.otf') }}");
      }
/*      @font-face {
        font-family: "Avenir 65";
        src: url("{{ url_for('static', filename='fonts/AvenirLTStd-Medium.otf') }}");
      }*/
    </style>

    <!-- Documents styles -->
    <!-- TODO (long-term): Migrate to external stylesheets
         Separated, modular CSS files have been created in src/easyresume/static/css/:
         - common.css: Shared styles for PDF and web preview
         - print.css: PDF-specific styles and WeasyPrint workarounds
         - preview.css: Web preview enhancements

         Current: Inline styles (for WeasyPrint compatibility)
         Future: <link> tags to external CSS files

         See: src/easyresume/static/css/README.md for migration guide
         See: wiki/PDF-Renderer-Evaluation.md for PDF renderer options
    -->
    <style>
      /* General style */
      html, body, p, ul, li {
        margin: 0;
        padding: 0;
        font-size: 9pt;
        line-height: 1;
        font-family: 'Avenir 35';
      }

      /* Titles */
      h1, h2, h3, h4, h5, h6 {
        font-weight: normal;
        margin: 0px;
      }
      h1, h2, h3, h5 {
        color: {{ cv_config["theme_color"] }};
      }
      h1 {
        font-size: 30pt;
        font-family: 'Avenir 35';
        padding-top: 0;
        padding-bottom: 0;
        padding-right: {{ cv_config["padding"] }}mm;
        text-align: center;
        border-bottom: none;
      }
      h2 {
        font-size: 16pt;
        font-family: 'Avenir 55';
        width: {{ cv_config["page_width"] - cv_config["sidebar_width"] - cv_config["h2_padding_left"]}}mm;
        padding-top: 8mm;
        padding-bottom: 1mm;
        padding-left: {{ cv_config["h2_padding_left"] }}mm;
      }
      h2:first-of-type {
        padding-top: {{ cv_config["padding"] }}mm;
      }
      h3 {
        font-size: 14pt;
        font-family: 'Avenir 45';
        padding-top: 7mm;
      }
      h4 {
        font-size: 10pt;
        font-family: 'Avenir 45';
      }
      h5 {
        font-size: 10pt;
        font-family: 'Avenir 55';
        padding-right: {{ cv_config["padding"] }}mm;
        position:absolute;
        right:0px;
        top:0px;
        text-align: right;
      }
      a {
        color: inherit; /* blue colors for links too */
        text-decoration: inherit; /* no underline */
      }

      /* List styles */
      ul {
        list-style-type: none;
      }
      li:before {
        content: "- ";
      }

      /* Layout styles */
      .frame {
        padding-top: {{ cv_config["frame_padding"] }}mm;
        padding-bottom: {{ cv_config["frame_padding"] }}mm;
        padding-left: {{ cv_config["frame_padding"] }}mm;
        padding-right: {{ cv_config["frame_padding"] }}mm;
        background-color: {{ cv_config["frame_color"] }};
      }
      .page {
        page-break-after: always;
        width: {{ cv_config["page_width"] }}mm;
        height: {{ cv_config["page_height"] }}mm;
        /* WeasyPrint rendering workaround: Use CSS gradient for sidebar background
         * instead of a positioned div. WeasyPrint has quirks with overlapping
         * positioned elements and z-index, causing the sidebar background to
         * sometimes render on top of content. Using a page background gradient
         * ensures consistent rendering across all PDF outputs. */
        background: linear-gradient(to right, {{ cv_config["sidebar_color"] }} {{ cv_config["sidebar_width"] }}mm, white {{ cv_config["sidebar_width"] }}mm);
        margin: 0;
        padding: 0;
        position: relative;
        overflow: hidden;
      }
      .sidebar-container {
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        width: {{ cv_config["sidebar_width"] }}mm;
        margin: 0;
        padding: 0;
      }
      .sidebar {
        padding-top: {{ cv_config["padding"] }}mm;
        padding-bottom: {{ cv_config["padding"] }}mm;
        padding-left: {{ cv_config["padding"] }}mm;
        padding-right: {{ cv_config["padding"] }}mm;
      }
      .body {
        position: absolute;
        left: {{ cv_config["sidebar_width"] }}mm;
        top: 0;
        width: {{ cv_config["page_width"] - cv_config["sidebar_width"] }}mm;
        height: {{ cv_config["page_height"] }}mm;
      }

      /* Content styles */
      .pitch {
        padding-top: {{ cv_config["pitch_padding_top"] }}mm;
        padding-bottom: {{ cv_config["pitch_padding_bottom"] }}mm;
        padding-left: {{ cv_config["pitch_padding_left"] }}mm;
        padding-right: {{ cv_config["padding"] }}mm;
        border-bottom: 2px solid {{ cv_config["sidebar_color"] }};
      }
      .skill-container {
        padding-top: 3mm;
      }
      .skill-spacer {
        padding-top: 3mm;
        clear: both;
      }
      .contact-container {
        display: table;
        float: left;
        height: 4mm;
        padding-left: 2mm;
      }
      .contact-text {
        display: table-cell;
        vertical-align: middle;
      }
      .content {
        float: left;
        width: {{ cv_config["page_width"] - cv_config["sidebar_width"] }}mm;
        padding-top: 4mm;
      }
      .spacer {
        clear: both;
      }
      .date-container {
        float: left;
        padding-left: 8mm;
        width: {{ cv_config["date_container_width"] }}mm;
      }
      .date2, .description {
        padding-top: 2mm;
      }
      .date1 {
        font-size: 9pt;
      }
      .date2 {
        font-size: 8pt;
        color: {{ cv_config["date2_color"] }};
      }
      .date1, .date2 {
        text-align: center;
        width: {{ cv_config["padding"] }}mm;
      }
      .description-container {
        float: left;
        position:relative;
        width: {{ cv_config["page_width"] - cv_config["sidebar_width"] - cv_config["padding"] - cv_config["date_container_width"] - cv_config["date_container_padding_left"] - cv_config["description_container_padding_left"] - 1}}mm;
        padding-left: {{ cv_config["description_container_padding_left"] }}mm;
        padding-right: {{ cv_config["padding"] }}mm;
        border-left: 2px solid {{ cv_config["sidebar_color"] }};
      }
      .description {
        line-height: 2;
      }

      /* Space between lines */
      .pitch p {
        font-size: 9pt;
        line-height: 1.4;
      }

      .description p, .description li {
        line-height: 1.4;
      }

      /* Bars */
      .bar-container {
        padding-top: 1mm;
      }
      .bar-grey, .bar-blue {
        height: 1mm;
        float: left;
      }
      .bar-grey {
        background-color: {{ cv_config["bar_background_color"] }};
      }
      .bar-blue {
        background-color: {{ cv_config["theme_color"] }};
      }

      /* Images */
      .icon {
        width: 4mm;
        height: 4mm;
        float: left;
      }
      .profile {
        width: {{ cv_config["sidebar_width"] - 2*cv_config["padding"] }}mm;
        height: {{ cv_config["sidebar_width"] - 2*cv_config["padding"] }}mm;
        padding-bottom: {{ cv_config["profile_image_padding_bottom"] }}mm;
      }
    </style>
  </head>

  <body>

    <!-- This will add a nice frame when previewing but not when printing -->
    {% if preview %}<div class="frame">{% endif %}

      <div class="page">
        <div class="sidebar-container">
          <div class="sidebar">
            {% block sidebar %}{% endblock %}
          </div>
        </div>

        <div class="body">
          {% block body %}{% endblock %}
        </div>
      </div>

    <!-- And the closing of the frame -->
    {% if preview %}</div>{% endif %}

  </body>
</html>
